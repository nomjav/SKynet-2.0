#pragma checksum "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "838e83fbb2cf90514444613053d5b5f2906a1f64"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_CallSlip_Index), @"mvc.1.0.view", @"/Views/CallSlip/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/CallSlip/Index.cshtml", typeof(AspNetCore.Views_CallSlip_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\_ViewImports.cshtml"
using Skynet.Web;

#line default
#line hidden
#line 2 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\_ViewImports.cshtml"
using Skynet.Web.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"838e83fbb2cf90514444613053d5b5f2906a1f64", @"/Views/CallSlip/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0a3c382a9203d8a39d7ac0f9908291a86ad1608b", @"/Views/_ViewImports.cshtml")]
    public class Views_CallSlip_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Skynet.Service.ViewModels.CallSlipModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/UserScripts/CallSlip.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(48, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 3 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml"
  
    ViewBag.Title = "Call Slip";
    var isFirstLine = false;
    ViewBag.Version = "?9";

#line default
#line hidden
            BeginContext(150, 6, true);
            WriteLiteral("\r\n\r\n\r\n");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(173, 8, true);
                WriteLiteral("\r\n\r\n    ");
                EndContext();
                BeginContext(182, 47, false);
#line 13 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml"
Write(await Html.PartialAsync("JSONScripts/CallSlip"));

#line default
#line hidden
                EndContext();
                BeginContext(229, 8, true);
                WriteLiteral("\r\n\r\n    ");
                EndContext();
                BeginContext(237, 49, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "26585d6cfc1245468e8e8ea99fafefb4", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(286, 4327, true);
                WriteLiteral(@"

    <script>
        $(document).ready(function () {
            $('#IsFirstLine').val(false);

            //fetch details
            var jobID = getParameterByName(""DuplicateOf"");
            var cName = getParameterByName(""customerName"");
            var ph = getParameterByName(""ph"");
            //alert(jobID);
            if (jobID != null && cName == null && ph == null)
            {
                var request = { CallSlipId: jobID };

                var jobdata =  $.ajax({
                    type: ""POST"",
                    contentType: ""application/json, charset=utf-8"",
                    url: baseURL + ""Home/GetJobDetailsById"",
                    data: JSON.stringify(request),
                    //global: false,
                    cache: false,
                    success: function (msg) {
                        var data;
                        if (msg.hasOwnProperty(""d"")) {
                            data = msg.d;
                        } else
              ");
                WriteLiteral(@"              data = msg;
                        if (data.success) {
                            SetCallSlipDetails(data);
                            //LoadZipCodes();
                        } else {
                            Notify(data.message, 'error');
                        }
                    },
                    error: function () {
                        CommunicationError();
                    }
                });
            }
            if (jobID == null && cName != null && ph != null) {
                var request = { customerName: cName, phone: ph };
                var jobdata = $.ajax({
                    type: ""POST"",
                    contentType: ""application/json, charset=utf-8"",
                    url: baseURL + ""Home/SetCallSlip"",
                    data: JSON.stringify(request),
                    //global: false,
                    cache: false,
                    success: function (msg) {
                        var data;
                  ");
                WriteLiteral(@"      if (msg.hasOwnProperty(""d"")) {
                            data = msg.d;
                        } else
                            data = msg;
                        if (data.success) {

                            SetCallSlipDetails(data);
                            //LoadZipCodes();
                            $('#Stores').val('');
                            $('#Phone').focus();
                            if ($('#Phone').val() != undefined || $('#Phone').val() != """")
                            GetCustomerInformationByPhone();

                        } else {
                            Notify(data.message, 'error');
                        }
                    },
                    error: function () {
                        CommunicationError();
                    }
                });
            }


        });



        //$('#Zip').autocomplete({
        //    source: function (request, response) {

        //        $.ajax({
        //            url: b");
                WriteLiteral(@"aseURL + ""Customer/LoadZipCodes1"",
        //            data: { query: request.term },
        //            dataType: 'json',
        //            type: 'GET',
        //            global: false,
        //            success: function (data) {

        //                response($.map(data, function (item) {
        //                    return {
        //                        label: item.FirstName
        //                    };
        //                }));
        //            }
        //        });
        //    },
        //    select: function (event, ui) {
        //        $('#Zip').val($.trim(ui.item.label));
        //        SelectZip();
        //        return false;
        //    },
        //    minLength: 3
        //});


    function SelectZip() {


        var sectionName = $(""#Zip"").val();
        if (sectionName.length > 0) {

            var selectedItem = sectionName;
            //var request = ""{'zipCode':'"" + selectedItem + ""'}"";
          ");
                WriteLiteral("  var request = {\r\n                zipCode: selectedItem, CountryId: $(\"#CountryId\").val()\r\n            };\r\n            $.ajax({\r\n                type: \"POST\",\r\n                data: JSON.stringify(request),\r\n                url: \"");
                EndContext();
                BeginContext(4614, 35, false);
#line 136 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml"
                 Write(Url.Content("~/Customer/GetCounty"));

#line default
#line hidden
                EndContext();
                BeginContext(4649, 4047, true);
                WriteLiteral(@""",
                contentType: ""application/json; charset=utf-8"",
            dataType: ""json"",
            success: function (data) {
                var msg;
                if (data.hasOwnProperty(""d"")) {
                    msg = data.d;
                } else
                    msg = data;
                PopulateCountyDropDown(msg);
            },
            error: function (xhr, ajaxOptions, thrownError) {

            }
        });

    }
    else {


    }
    }

        function SetCallSlipDetails(job)
        {
            //setting call slip details

            //$('#CallSlipId').val();
            $('#CustomerId').val(job.model.CustomerId);
            $('#AddressId').val(job.model.CustomerAddressId);

            $('#StoreId').val(job.model.StoreId);

            $('#CustomerType').val(job.model.CustomerTypeId);
            $('#JobTypeId').val(job.model.JobTypeId);

            if (job.model.IsAuto == true)
            {
                $('#cbAutoJob').p");
                WriteLiteral(@"rop('checked', true);
                $('#Year').val(job.model.Year);
                $('#Make').val(job.model.Make);
                $('#Model').val(job.model.Model);
                $('#Color').val(job.model.Color);
                $('.auto-fields').fadeIn(""slow"");
            }

            $('#CustomerName').val(job.model.CustomerName);
            $('#Stores').val(job.model.StoreNumber + "" - "" + job.model.StoreLocationName);
            $('#CallInBy').val(job.model.CalledInBy);
            $('#ContactPerson').val(job.model.ContactPerson);
            $('#PO').val(job.model.PONumber);
            $('#NTEAmount').val(job.model.NTEAmount);
            $('#WorkOrder2').val(job.model.WorkOrder2);
            $('#Address').val(job.model.Address);
            $('#AddressType').val(job.model.AddressTypeId);
            $('#City').val(job.model.City);
            $('#StateId').val(job.model.StateId);
            $('#Zip').val(job.model.ZipCode);
            $('#BuzzerCode').val(job.model.Buzze");
                WriteLiteral(@"rCode);
            $('#CountyId').val(job.model.CountyId);
            $('#CountryId').val(job.model.CountryId);
            $('#Phone').val(job.model.Phone);
            $('#AlternatePhone').val(job.model.AlternatePhone);
            $('#ServiceAddressFax').val(job.model.Fax);
            $('#Email').val(job.model.EmailAddress);
            $('#EquipmentId').val(job.model.EquipmentId);

            $('#IsEmergency').prop('checked', job.model.IsEmergency ? true : false);
            $('#JobDescription').data('tEditor').value(job.model.JobDescription);
            $('#JobDescription').val(job.model.JobDescription);
            $('#taSpecialInstructions').val(job.model.SpecialInstructions);
            $('#ServiceDate').val(job.model.OnDate);
            $('#Day').val(job.model.DateIntervalType);

            if ($('#Day').val() == ""1"" || $('#Day').val() == ""2"") {
                $('#ExpectedTime').fadeIn(); $('.tLabel').fadeIn();
                $('.range').fadeOut();
                $('#Ex");
                WriteLiteral(@"pectedTime').val(job.model.FromTime);
            }
            if ($('#Day').val() == ""3"") {
                $('#ExpectedTime').fadeOut();
                $('.tLabel').fadeOut();
                $('.range').css('display', 'inline-block');
                $('#ServiceTimeFrom').val(job.model.FromTime);
                $('#ServiceTimeTo').val(job.model.ToTime);
            }
            $('#AdTypeId').val(job.model.AdTypeId);
            $('#PaymentMethodId').val(job.model.PaymentMethodId);
        }


        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, ""\\$&"");
            var regex = new RegExp(""[?&]"" + name + ""(=([^&#]*)|&|#|$)""),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, "" ""));
        }

    </script>

");
                EndContext();
            }
            );
            BeginContext(8699, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(8702, 36, false);
#line 241 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml"
Write(await Html.PartialAsync("_CallSlip"));

#line default
#line hidden
            EndContext();
            BeginContext(8738, 6, true);
            WriteLiteral("\r\n\r\n\r\n");
            EndContext();
            BeginContext(8745, 38, false);
#line 244 "C:\Work\Estrats\Skynet 2.0\Skynet.Web\Views\CallSlip\Index.cshtml"
Write(await Html.PartialAsync("_CallUsBack"));

#line default
#line hidden
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Skynet.Service.ViewModels.CallSlipModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
